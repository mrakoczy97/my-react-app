(window["webpackJsonpmy-react-app"]=window["webpackJsonpmy-react-app"]||[]).push([[0],{15:function(e,t,a){e.exports=a(22)},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(11),l=a(2),r=a.n(l),o=a(10),c=a(5),s=a(6),i=a(8),m=a(7),u=a(4),p=a(9),h=a(0),d=a.n(h),f=a(13),b=a.n(f),k=(a(21),a(3)),g=a.n(k);function E(e){var t=[];return e.forEach(function(e){var a={numer:e[0],ile:e[1],klient:e[2],lista_prac:e[3],fv:e[4],firma:e[5],data:e[6],pliki:e[7]};t.push(a)}),t}function y(e){return fetch("http://localhost/system_reklamacji/php/zmien.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({klucz_nr:e.target.id,klucz_idprac:e.target.value})}).then(function(e){if(e.ok)return alert("Zmieniono osob\u0119 pomy\u015blnie"),e.json();throw new Error("Something went wrong")}).then(function(e){return console.log(e)})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=a(1),v=a.n(w),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){fetch("http://localhost/system_reklamacji/php/pobierz_konkretny.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({klucz_nr:a.state.id})}).then(function(e){return e.json()}).then(function(e){return a.KonkretneReklamacje(e)})},a.state={id:a.props.text,dane:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"KonkretneReklamacje",value:function(e){var t=[];e.forEach(function(e){var a={nazwa:e[0],ilosc:e[1],przyczyna:e[2],datawady:e[3]};t.push(a)}),this.setState({dane:t})}},{key:"render",value:function(){return d.a.createElement("div",{className:"popup"},d.a.createElement("h1",{className:"centruj"},this.state.id,d.a.createElement("button",{className:"zamknij",onClick:this.props.closePopup},"X")),d.a.createElement("div",{className:"popup_inner"},d.a.createElement("div",{className:"tg-wrap"},this.state.dane.map(function(e){return d.a.createElement("table",{className:"tg table table2 table-sm "},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",{className:"tg-0pky"},d.a.createElement("label",{htmlFor:"nazwa"},"Nazwa:"),d.a.createElement("br",null),e.nazwa),d.a.createElement("td",{className:"tg-0lax"},d.a.createElement("label",{htmlFor:"ile"},"Ilo\u015b\u0107:"),d.a.createElement("br",null),e.ilosc),d.a.createElement("td",{className:"tg-0lax"},d.a.createElement("label",{htmlFor:"dataw"},"Data wyst\u0105pienia wady:"),d.a.createElement("br",null),e.datawady)),d.a.createElement("tr",null,d.a.createElement("td",{className:"tg-0lax",colSpan:"4"},e.przyczyna))))}))))}}]),t}(d.a.Component),z=a(14),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={selectedFile:null,ile:0,lista:""},a.handleSubmitFile=a.handleSubmitFile.bind(Object(u.a)(a)),a.handleRemove=a.handleRemove.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleRemove",value:function(){var e=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selectedFile:null,ile:0,lista:""});case 2:O=new FormData;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmitFile",value:function(){var e=Object(o.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selectedFile:t.target.files});case 2:a=0;case 3:if(!(a<this.state.selectedFile.length)){e.next=19;break}if("PNG"!==(n=this.state.selectedFile[a].name.split(".").pop()).toUpperCase()&&"JPEG"!==n.toUpperCase()&&"PDF"!==n.toUpperCase()&&"JPG"!==n.toUpperCase()){e.next=14;break}if(O.append("images[]",this.state.selectedFile[a]),!this.state.lista.includes(this.state.selectedFile[a].name)){e.next=10;break}e.next=12;break;case 10:return e.next=12,this.setState({ile:this.state.ile+1,lista:this.state.lista+this.state.selectedFile[a].name+"\n"});case 12:e.next=16;break;case 14:return alert("B\u0142\u0119dny format pliku, prosz\u0119 przesy\u0142a\u0107 tylko PNG, PDF oraz JPG/JPEG"),e.abrupt("return");case 16:a++,e.next=3;break;case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{method:"POST",className:"form-horizontal",id:"upload",encType:"multipart/form-data"},d.a.createElement("br",null),d.a.createElement("div",{className:"form-row centruj2 "},d.a.createElement("div",{className:"form-group col-md-6"},d.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.handleSubmitFile,multiple:!0,name:"file",id:"image",accept:"application/pdf, image/*"}),d.a.createElement("label",{className:"fileupdate",htmlFor:"image"},"Wybierz pliki",d.a.createElement("h6",null,"Tylko PDF, PNG, JPG/JPEG")),d.a.createElement("br",null),d.a.createElement(_,{tekst:" Ilo\u015b\u0107 wgranych zdj\u0119\u0107:"+this.state.ile,hint:this.state.lista})),d.a.createElement("div",{className:"form-group col-md-6 "},d.a.createElement("button",{type:"button",className:"fileupdate",onClick:this.handleRemove},"Usu\u0144 pliki z wyboru"))))}}]),t}(d.a.Component),O=new FormData,_=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return d.a.createElement("label",{className:"dohovera",htmlFor:"inputdokument"},this.props.tekst,d.a.createElement("span",{className:"hoveruje"},this.props.hint))}}]),t}(d.a.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a.wyloguj=a.wyloguj.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"wyloguj",value:function(){g.a.remove("log_auth"),g.a.remove("zalogowany"),sessionStorage.setItem("tab","x"),this.props.handlelogged(!1),window.location.reload()}},{key:"render",value:function(){return d.a.createElement("input",{className:"logout",type:"button",onClick:this.wyloguj,value:"Wyloguj si\u0119"})}}]),t}(d.a.Component),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).ustawCiasteczka=function(e){g.a.set("log_auth",e[0][0]),g.a.set("zalogowany",e[0][1])},a.handleChangeLog=function(e){a.setState(Object(n.a)({},e.target.name,e.target.value))},a.state={imie:"",haslo:""},a.handleSubmitLog=a.handleSubmitLog.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleSubmitLog",value:function(){var e=Object(o.a)(r.a.mark(function e(t){var a,n,l=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=v()("#inputlogin").val(),n=v()("#inputhaslo").val(),this.setState({kto:a}),fetch("http://localhost/system_reklamacji/php/zaloguj.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({klucz_login:a,klucz_haslo:n})}).then(function(e){if(e)return console.log(),e.json();throw new Error("Something went wrong")}).then(function(e){return e?(l.ustawCiasteczka(e),l.props.handlelogged(!0),sessionStorage.setItem("tab","moje"),window.location.reload()):null}).catch(function(e){alert("B\u0142\u0119dne dane! Sprawd\u017a czy dane s\u0105 poprawne")});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"srodek "},d.a.createElement("form",{className:"relat",onSubmit:this.handleSubmitLog},d.a.createElement("div",{className:"col-md-12"},d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-12"},d.a.createElement("label",{htmlFor:"inputEmail4"},d.a.createElement("h2",null,"Logowanie"),d.a.createElement("h4",null," do panelu zarz\u0105dzania reklamacjami"))),d.a.createElement("div",{className:"form-group col-md-12"},d.a.createElement("label",{htmlFor:"inputEmail4"},"Login"),d.a.createElement("input",{type:"text",name:"imie",value:this.state.imie,required:!0,onChange:function(t){return e.handleChangeLog(t)},className:"form-control",id:"inputlogin"})),d.a.createElement("div",{className:"form-group col-md-12"},d.a.createElement("label",{htmlFor:"inputEmail4"},"Has\u0142o"),d.a.createElement("input",{type:"password",name:"haslo",value:this.state.haslo,required:!0,onChange:function(t){return e.handleChangeLog(t)},className:"form-control",id:"inputhaslo"})),d.a.createElement("div",{className:"form-group col-md-12"},d.a.createElement("input",{id:"wyslij",type:"submit",value:"Zaloguj si\u0119",className:"fileupdate"})),d.a.createElement("label",{className:"form-group col-md-1"})))," "))}}]),t}(d.a.Component),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({tab:t.target.attributes.tab.value}),t.preventDefault(),null!==g.a.get("log_auth")){e.next=8;break}return"x",e.next=6,a.props.handleData("formularz");case 6:e.next=11;break;case 8:return fetch("http://localhost/system_reklamacji/php/check_cookie.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({klucz_cookie:g.a.get("log_auth")})}).then(function(e){return e.json()}).then(function(e){return e[0][5]?"YAY":"NAY"}).catch(function(e){a.props.handleData("formularz"),g.a.remove("log_auth")}),e.next=11,a.props.handleData(t.target.attributes.tab.value);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleParentlogged=function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({islogged:t});case 2:console.log(a.state.islogged);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={tab:"",zalogowany:!1,update:!1,kto:""},a.handleParentlogged=a.handleParentlogged.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return d.a.createElement("div",{className:"row"}," ",g.a.get("log_auth")||null===this.state.zalogowany?d.a.createElement(C,{handlelogged:this.handleParentlogged}):d.a.createElement(P,{handlelogged:this.handleParentlogged}),g.a.get("log_auth")||null===this.state.zalogowany?d.a.createElement("h2",{className:"powitanie",style:{marginLeft:"0.8%"}},"Witaj ",g.a.get("zalogowany")):null,g.a.get("log_auth")||null===this.state.zalogowany?d.a.createElement("div",{className:"col-md-12"},null===g.a.get("log_auth")?null:d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-3"},d.a.createElement("a",{className:"btn btn-"+("formularz"===this.state.tab&&""!==this.state.tab?"success":""===this.state.tab&&"formularz"===sessionStorage.getItem("tab")?"success":"info")+" btn-block",tab:"formularz",onClick:this.handleClick,href:this.state.tab},"Formularz zg\u0142oszeniowy")),d.a.createElement("div",{className:"form-group col-md"},d.a.createElement("a",{className:"btn btn-"+("nieprzypisane"===this.state.tab&&""!==this.state.tab?"success":""===this.state.tab&&"nieprzypisane"===sessionStorage.getItem("tab")?"success":"info")+" btn-block",tab:"nieprzypisane",onClick:this.handleClick,href:this.state.tab},"Reklamacje nieprzypisane")),d.a.createElement("div",{className:"form-group col-md"},d.a.createElement("a",{className:"btn btn-"+("moje"===this.state.tab&&""!==this.state.tab?"success":""===this.state.tab&&"moje"===sessionStorage.getItem("tab")?"success":"info")+" btn-block",tab:"moje",onClick:this.handleClick,href:this.state.tab},"Moje reklamacje")),d.a.createElement("div",{className:"form-group col-md"},d.a.createElement("a",{className:"btn btn-"+("wszystkie"===this.state.tab&&""!==this.state.tab?"success":""===this.state.tab&&"wszystkie"===sessionStorage.getItem("tab")?"success":"info")+" btn-block",tab:"wszystkie",onClick:this.handleClick,href:this.state.tab},"Wszystkie reklamacje")),d.a.createElement("div",{className:"form-group col-md"},d.a.createElement("a",{className:"btn btn-"+("zakonczone"===this.state.tab&&""!==this.state.tab?"success":""===this.state.tab&&"zakonczone"===sessionStorage.getItem("tab")?"success":"info")+" btn-block",tab:"zakonczone",onClick:this.handleClick,href:this.state.tab},"Zako\u0144czone")))):null)}}]),t}(d.a.Component),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(n.a)({},e.target.name,e.target.value))},a.state={imie:"",nazwisko:"",email:"",telefon:"",dokument:"",firma:"",datan:"",dataw:"",miejscowosc:"",kierowca:"",dane:"",tempi:1},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.DodajTowar=a.DodajTowar.bind(Object(u.a)(a)),a.attach_delete=a.attach_delete.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"DodajTowar",value:function(){var e=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v()(".dynamic-element").first().clone().appendTo(".dynamic-stuff").show(),this.attach_delete(),e.next=4,this.setState(function(e,t){return{tempi:e.tempi+1}});case 4:v()(".dynamic-element").last().addClass("towar"+this.state.tempi),v()(".text-center").last().html("Towar #"+this.state.tempi);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"attach_delete",value:function(){v()(".delete").off(),v()(".delete").click(function(){v()(this).closest(".form-group").remove()})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t,a=v()("#inputimie").val(),n=v()("#inputnazwisko").val(),l=v()("#inputemail").val(),r=v()("#inputtelefon").val(),o=v()("#inputdokument").val(),c=v()("#inputfirma").val(),s=v()("#inputgdate").val(),i=v()("#inputbdate").val(),m=v()("#inputmiejscowosc").val(),u="",p=this.state.tempi;a&&n&&l&&r&&o&&i&&m?v.a.ajax({type:"POST",url:"http://localhost/system_reklamacji/php/wyslij_klienta.php",dataType:"text",data:{klucz_imie:a,klucz_nazwisko:n,klucz_email:l,klucz_telefon:r,klucz_firma:c},success:function(){v.a.ajax({type:"POST",url:"http://localhost/system_reklamacji/php/pobierz_uzytkownika.php",dataType:"text",data:{klucz_imie:a,klucz_nazwisko:n},success:function(e){for(var l in e){var r=e[l];u+=r[0]}t=u.slice(3,-3);for(var c=[],h=0;h<p;h++){var d={nazwa:v()(".towar"+(h+1)+" #inputtowar").val(),ilosc:v()(".towar"+(h+1)+" #inputilosc").val(),przyczyna:v()(".towar"+(h+1)+" #inputprzyczyna").val()};c.push(d)}fetch("http://localhost/system_reklamacji/php/wyslij_plik.php",{headers:{Accept:"application/json"},method:"POST",body:O}).then(function(e){return e.json()}).then(function(e){return v.a.ajax({type:"POST",url:"http://localhost/system_reklamacji/php/wyslij_reklamacje_trans.php",dataType:"html",data:{klucz_imie:a,klucz_nazwisko:n,klucz_nrrekalamcji:e,klucz_dokument:o,klucz_datan:s,klucz_dataw:i,klucz_miejscowosc:m,klucz_reklamacje:JSON.stringify(c),klucz_id:t,klucz_ile:p},success:function(){alert("Reklamacja zosta\u0142a wys\u0142ana")},error:function(e){alert("Wyst\u0105pi\u0142 b\u0142\u0105d z wys\u0142aniem reklamacji"),console.log(e)}})}).catch(function(e){})},error:function(e){alert("Wyst\u0105pi\u0142 b\u0142\u0105d"),console.log(e)}})},error:function(e){alert("Wyst\u0105pi\u0142 b\u0142\u0105d"),console.log(e)}}):alert("Prosz\u0119 uzupe\u0142ni\u0107 formularz!")}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"container container-form"},d.a.createElement("div",{className:"form-group dynamic-element",style:{display:"none"}},d.a.createElement("hr",{className:"col-md-12"}),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"form-group col-md-12 "},d.a.createElement("h5",{className:"text-center"}," Towar #",this.state.i))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"form-group col-md-9"},d.a.createElement(_,{tekst:"Numer Materia\u0142u",hint:"6 do 8 znak\xf3w"}),d.a.createElement("input",{type:"text",pattern:".{6,8}",title:"musi zawiera\u0107 6-8 znak\xf3w",defaultValue:"",className:"form-control",id:"inputtowar",required:!0,placeholder:"Numer Materia\u0142u"})),d.a.createElement("div",{className:"group col-md-2"},d.a.createElement("label",{htmlFor:"inputPassword4"},"Ilo\u015b\u0107"),d.a.createElement("input",{type:"number",className:"form-control input-form",id:"inputilosc",placeholder:"ilo\u015b\u0107"})),d.a.createElement("div",{className:"col-md-1"},d.a.createElement("label",{htmlFor:"inputPassword4"}),d.a.createElement("p",{className:"form-control delete red ",onClick:this.attach_delete},"x"))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"form-group col-md-12"},d.a.createElement("label",{htmlFor:"exampleFormControlTextarea1"},"Przyczyna reklamacji"),d.a.createElement("textarea",{className:"form-control",id:"inputprzyczyna",rows:"3"}))),d.a.createElement("div",{className:"col-md-3"})),d.a.createElement("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data"},d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-12 centruj2"},d.a.createElement("h1",{className:"h1-form"},"Formularz zg\u0142oszeniowy"),d.a.createElement("h5",{className:"h5-form"},"Reklamacja logistyczna"))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-6"},d.a.createElement("label",{htmlFor:"inputEmail4"},"Imie",d.a.createElement("s",{className:"red"},"*")),d.a.createElement("input",{type:"text",name:"imie",value:this.state.imie,required:!0,onChange:function(t){return e.handleChange(t)},className:"form-control",id:"inputimie",placeholder:"Imi\u0119"})),d.a.createElement("div",{className:"form-group col-md-6"},d.a.createElement("label",{htmlFor:"inputPassword4"},"Nazwisko",d.a.createElement("s",{className:"red"},"*")),d.a.createElement("input",{type:"text",required:!0,name:"nazwisko",value:this.state.nazwisko,onChange:function(t){return e.handleChange(t)},className:"form-control",id:"inputnazwisko",placeholder:"Nazwisko"}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-6"},d.a.createElement("label",{htmlFor:"inputEmail4"},"Email",d.a.createElement("s",{className:"red"},"*")),d.a.createElement("input",{type:"email",required:!0,name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)},className:"form-control",id:"inputemail",placeholder:"Email"})),d.a.createElement("div",{className:"form-group col-md-6"},d.a.createElement("label",{htmlFor:"inputPassword4"},"Telefon Kontaktowy",d.a.createElement("s",{className:"red"},"*")),d.a.createElement("input",{type:"tel",className:"form-control",id:"inputtelefon",onChange:function(t){return e.handleChange(t)},name:"telefon",value:this.state.telefon,required:!0,placeholder:"nr telefonu"}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-6"},d.a.createElement("label",{htmlFor:"inputdokument"},"Dokument",d.a.createElement("s",{className:"red"},"*")),d.a.createElement("input",{type:"text",className:"form-control",id:"inputdokument",onChange:function(t){return e.handleChange(t)},required:!0,name:"dokument",value:this.state.dokument,placeholder:"Dokument dostawy/FV"})),d.a.createElement("div",{className:"form-group col-md-6"},d.a.createElement("label",{htmlFor:"inputPassword4"},"Nazwa firmy",d.a.createElement("s",{className:"red"})),d.a.createElement("input",{type:"text",className:"form-control",id:"inputfirma",onChange:function(t){return e.handleChange(t)},name:"firma",value:this.state.firma,placeholder:"(opcjonalne)"}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-6"},d.a.createElement("label",{htmlFor:"inputdokument"},"Miejscowo\u015b\u0107",d.a.createElement("s",{className:"red"},"*")),d.a.createElement("input",{type:"text",className:"form-control",id:"inputmiejscowosc",onChange:function(t){return e.handleChange(t)},required:!0,name:"miejscowosc",value:this.state.miejscowosc,placeholder:"Miejscowo\u015b\u0107"})),d.a.createElement("div",{className:"form-group col-md-6"},d.a.createElement("label",{htmlFor:"inputEmail4"},"Data stwierdzenia wady",d.a.createElement("s",{className:"red"},"*")),d.a.createElement("input",{type:"date",className:"form-control",id:"inputbdate",onChange:function(t){return e.handleChange(t)},name:"dataw",value:this.state.dataw,required:!0,placeholder:"DD-MM-RRRR"}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-6"}),d.a.createElement("hr",{className:"col-xs-12"})),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-12"},d.a.createElement("div",{className:"form-group"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-12"},d.a.createElement("p",{className:" add-one ",onClick:this.DodajTowar},d.a.createElement("s",{className:"przycisk"},"Dodaj towar do reklamacji"))),d.a.createElement("div",{className:"form-group col-md-12 "},d.a.createElement("br",null),d.a.createElement("h5",{className:"text-center"}," Towar #1")),d.a.createElement("div",{className:"col-md-12 towar1"},d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-10"},d.a.createElement(_,{tekst:"Numer Materia\u0142u",hint:"6 do 8 znak\xf3w"}),d.a.createElement("input",{type:"text",pattern:".{6,8}",title:"musi zawiera\u0107 6-8 znak\xf3w",className:"form-control",id:"inputtowar",required:!0,placeholder:"Numer materia\u0142u"})),d.a.createElement("div",{className:"form-group col-md-2"},d.a.createElement("label",{htmlFor:"inputPassword4"},"Ilo\u015b\u0107"),d.a.createElement("input",{type:"number",className:"form-control",id:"inputilosc",required:!0,placeholder:"ilo\u015b\u0107"}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-12"},d.a.createElement("label",{htmlFor:"exampleFormControlTextarea1"},"Przyczyna reklamacji"),d.a.createElement("textarea",{className:"form-control",id:"inputprzyczyna",required:!0,rows:"3"}))))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-12"},d.a.createElement("div",{className:"dynamic-stuff"})),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-2"}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-md-12"},d.a.createElement(N,null))),d.a.createElement("div",{className:"form-group col-md-12 notka"},d.a.createElement("p",null,d.a.createElement("s",{className:"red"},"*")," - pole wymagane"),d.a.createElement("p",null,d.a.createElement(_,{tekst:"Przyk\u0142ad",hint:"przyk\u0142adowy tekst"})," - po najechaniu mysz\u0105 wy\u015bwietlaj\u0105 si\u0119 dodatkowe informacje")),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("div",{className:"form-group col-md-12 centruj2"},d.a.createElement("input",{id:"wyslij",type:"submit",value:"Prze\u015blij formularz",className:"fileupdate "})))))))}}]),t}(d.a.Component),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){fetch("http://localhost/system_reklamacji/php/pobierz_pliki.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({klucz_nr:a.state.id})}).then(function(e){return e.json()}).then(function(e){return a.KonkretnePliki(e)})},a.state={id:a.props.text,dane:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"KonkretnePliki",value:function(e){var t=[];e.forEach(function(e){var a={nazwa:e[0],sciezka:e[1],typ:e[1].slice(e[1].length-3)};t.push(a)}),this.setState({dane:t})}},{key:"render",value:function(){return d.a.createElement("div",{className:"popup"},d.a.createElement("h1",{className:"centruj"},this.state.id,d.a.createElement("button",{className:"zamknij",onClick:this.props.closePopup},"X")),d.a.createElement("div",{className:"popup_inner"},d.a.createElement("div",{className:"tg-wrap"},this.state.dane.map(function(e){return d.a.createElement("table",{key:e.nazwa,className:"tg table table2 table-sm "},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",{className:"tg-0lax",colSpan:"4"},"pdf"===e.typ?d.a.createElement("div",{className:"App"},d.a.createElement("a",{href:"http://localhost/system_reklamacji/"+e.nazwa,className:"link",target:"_blank",rel:"noopener noreferrer"},e.nazwa)):d.a.createElement(z.a,{smallSrcSet:"hihi",large:"http://localhost/system_reklamacji/"+e.nazwa,alt:e.nazwa})))))}))))}}]),t}(d.a.Component),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost/system_reklamacji/php/pobierz_pracownikow.php").then(function(e){return e.json()}).then(function(e){return a.PrzypiszPracownikow(e)}).then(fetch(a.props.what,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({klucz_cookie:g.a.get("log_auth")})}).then(function(e){return e.json()}).then(function(e){return a.setState({status:E(e)})}));case 2:case"end":return e.stop()}},e)})),a.state={status:[],pracownicy:[],puste:!1,showPopup:!1,showPliki:!1,current:"",strona:"",reqKey:"",Cookies:""},a.handleChangeChk=a.handleChangeChk.bind(Object(u.a)(a)),a.togglePopup=a.togglePopup.bind(Object(u.a)(a)),a.togglePliki=a.togglePliki.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(o.a)(r.a.mark(function e(t){var a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.what===this.props.what){e.next=7;break}return this.props.moje,e.next=4,this.setState({strona:this.props.what});case 4:return g.a.get("log_auth")&&alert("yay"),e.next=7,fetch("http://localhost/system_reklamacji/php/pobierz_pracownikow.php").then(function(e){return e.json()}).then(function(e){return a.PrzypiszPracownikow(e)}).then(fetch(this.props.what,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({klucz_cookie:g.a.get("log_auth")})}).then(function(e){return e.json()}).then(function(e){return a.setState({status:E(e)})}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"togglePopup",value:function(e){e.preventDefault(),this.setState({showPopup:!this.state.showPopup,current:e.target.id})}},{key:"togglePliki",value:function(e){e.preventDefault(),this.setState({showPliki:!this.state.showPliki,current:e.target.id})}},{key:"handleChangeChk",value:function(e){var t=e.target.attributes.nrrekla.value;fetch("http://localhost/system_reklamacji/php/zamknij_zgloszenie.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({klucz_nr:t})}).then(function(e){return e.json()}).then(this.forceUpdate()).then(window.location.reload())}},{key:"details",value:function(e){var t,a=e.target.attributes.getNamedItem("aria-expanded").value;if("false"===a){var n=e.target.attributes.id.value;a="true",t=n,fetch("http://localhost/system_reklamacji/php/pobierz_konkretny.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({klucz_nr:t})}).then(function(e){return e.json()}).then(function(e){return function(e){var t=[];return e.forEach(function(e){var a={nazwa:e[0],ilosc:e[1],data:e[2],tekst:e[3]};t.push(a)}),t}(e)})}else a="false";e.target.attributes.getNamedItem("aria-expanded").value=a}},{key:"PrzypiszPracownikow",value:function(e){var t=[];e.forEach(function(e){var a={id:e[0],dane:e[1]};t.push(a)}),this.setState({pracownicy:t})}},{key:"render",value:function(){var e=this;return d.a.createElement("div",null,this.state.showPopup?d.a.createElement(j,{text:this.state.current,closePopup:this.togglePopup.bind(this)}):null,this.state.showPliki?d.a.createElement(F,{text:this.state.current,closePopup:this.togglePliki.bind(this)}):null,d.a.createElement("div",{className:"wraper"},d.a.createElement("table",{className:"table table-sm table-hover  mojetable",cellSpacing:"0",width:"100%"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,d.a.createElement("h4",null,"NR reklamacji")),d.a.createElement("th",null,d.a.createElement("h4",null,"Ilo\u015b\u0107 reklamacji")),d.a.createElement("th",null,d.a.createElement("h4",null,"Klient")),d.a.createElement("th",null,d.a.createElement("h4",null,"Osoba zajmuj\u0105ca si\u0119")),d.a.createElement("th",null,d.a.createElement("h4",null,"Dokument")),d.a.createElement("th",null,d.a.createElement("h4",null,"Nazwa firmy")),d.a.createElement("th",null,d.a.createElement("h4",null,"Data")),d.a.createElement("th",null,d.a.createElement("h4",null,"Pliki")),"http://localhost/system_reklamacji/php/pobierz_zakonczone.php"===this.props.what||"http://localhost/system_reklamacji/php/pobierz_nieprzypisane.php"===this.props.what?null:d.a.createElement("th",{key:this.state.reqKey},"Zako\u0144cz"))),d.a.createElement("tbody",null,this.state.status.map(function(t){return d.a.createElement("tr",{className:t.numer,key:t.numer},d.a.createElement("td",null,t.numer),d.a.createElement("td",{className:"accordion-toggle"},d.a.createElement("button",{className:"btn btn-warning",onClick:e.togglePopup,type:"button","data-toggle":"collapse","data-target":"#collapse"+t.numer,"aria-expanded":"false",id:t.numer,"aria-controls":"#collapse"+t.numer},t.ile)),d.a.createElement("td",null,t.klient),d.a.createElement("td",{className:"selectpicker"},d.a.createElement("select",{id:t.numer,onChange:y.bind(e.value),className:"browser-default customer-select selectpicker"},e.state.pracownicy.map(function(e){return t.lista_prac===e.dane?d.a.createElement("option",{selected:!0,key:e.id,id:t.numer+" "+e.dane,value:e.id},e.dane):d.a.createElement("option",{key:e.id,id:t.numer+" "+e.dane,value:e.id},e.dane)}))),d.a.createElement("td",null,t.fv),d.a.createElement("td",null,t.firma),d.a.createElement("td",null,t.data),d.a.createElement("td",null,d.a.createElement("button",{className:"btn btn-warning",onClick:e.togglePliki,type:"button","data-toggle":"collapse2","data-":!0,target:"#collapse2"+t.numer,"aria-expanded":"false",id:t.numer,"aria-controls":"#collapse2"+t.numer},"Pliki")),"http://localhost/system_reklamacji/php/pobierz_zakonczone.php"===e.props.what||"http://localhost/system_reklamacji/php/pobierz_nieprzypisane.php"===e.props.what?null:d.a.createElement("td",null,d.a.createElement("button",{className:"btn btn-danger",nrrekla:t.numer,onClick:e.handleChangeChk,type:"checkbox"},"Zako\u0144cz")))})))))}}]),t}(d.a.Component),D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleParentData=function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({currenttab:t});case 2:sessionStorage.setItem("tab",t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={currenttab:sessionStorage.getItem("tab")?sessionStorage.getItem("tab"):"temp",logged:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(S,{handleData:this.handleParentData}),function(){switch(e.state.currenttab){case"wszystkie":return d.a.createElement(T,{what:"http://localhost/system_reklamacji/php/pobierz.php"});case"formularz":return d.a.createElement(x,null);case"nieprzypisane":return d.a.createElement(T,{what:"http://localhost/system_reklamacji/php/pobierz_nieprzypisane.php"});case"zakonczone":return d.a.createElement(T,{what:"http://localhost/system_reklamacji/php/pobierz_zakonczone.php"});case"moje":return d.a.createElement(T,{moje:"true",what:"http://localhost/system_reklamacji/php/pobierz_moje.php"});default:return}}(),d.a.createElement("main",{className:"ui main text container"}))}}]),t}(d.a.Component);b.a.render(d.a.createElement(D,null),document.getElementById("app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.c04e8793.chunk.js.map